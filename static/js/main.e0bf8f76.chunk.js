(this["webpackJsonpalmex-contractor"]=this["webpackJsonpalmex-contractor"]||[]).push([[0],{102:function(e,t,n){e.exports={wrapper:"logo_wrapper__3vcav",text:"logo_text__1Cx8t"}},139:function(e,t,n){e.exports={loader:"loader_loader__2sbTU"}},141:function(e,t,n){e.exports={wrapper:"start-app-fail_wrapper__39QCk"}},147:function(e,t){},153:function(e,t,n){e.exports=n(241)},158:function(e,t,n){},168:function(e,t){},241:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"setThrift",(function(){return ae})),n.d(a,"MrkClientServiceClient",(function(){return ne}));var r=n(0),c=n.n(r),o=n(3),l=n.n(o),i=(n(158),n(20)),s=n(73),u=n(245),p=n(248),m=n(76),f=n(66),d=n(67),g=n(74),v=n(68),h=n(75),w=n(55),b=n(16),j=n.n(b),_=n(48),x=n(21),E=n(2),y=n.n(E),O=n(246),k=n(250),I=n(244),T=n(28),C=n.n(T),S=n(24),N=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).setlang=function(e){var t,a;return j.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.props.locale!==e.value){r.next=3;break}return r.abrupt("return",null);case 3:return r.prev=3,r.next=6,j.a.awrap(fetch("../translates/".concat(e.value,".json")));case 6:return t=r.sent,r.next=9,j.a.awrap(t.json());case 9:a=r.sent,n.props.loadTranslations(Object(_.a)({},e.value,a)),n.props.setLocale(e.value),localStorage.setItem("lang",e.value),C.a.locale(e.value),r.next=19;break;case 16:r.prev=16,r.t0=r.catch(3),O.a.error({key:"locale_not_found",message:S.I18n.t("common.error"),description:S.I18n.t("SignIn.locale_not_found")});case 19:case"end":return r.stop()}}),null,null,[[3,16]])},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.locale,a=t.language;return c.a.createElement(k.a,null,c.a.createElement(I.a.Text,{onClick:function(){return e.setlang(a)},className:y()(w.item,a.value===n?w.active:null)},a.value))}}]),t}(r.Component),A=Object(i.connect)((function(e){return{locale:e.i18n.locale}}),(function(e){return Object(x.bindActionCreators)({loadTranslations:S.loadTranslations,setLocale:S.setLocale},e)}))(N),L=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.list,t=void 0===e?[]:e;return c.a.createElement(p.a,{className:w.list,type:"flex",justify:"center",align:"middle",gutter:16},t.map((function(e){return c.a.createElement(A,{key:e.value,language:e})})))}}]),t}(r.PureComponent),R=Object(i.connect)((function(e){return{list:e.i18n.list}}))(L),P=n(102),M=function(){return c.a.createElement("div",{className:P.wrapper},c.a.createElement("img",{src:"/assets/img/Logo.svg",alt:"logo"}),c.a.createElement("span",{className:P.text},"contractor"))},W=u.a.Content,B=function(){return c.a.createElement(u.a,{className:m.container},c.a.createElement(W,{className:m.wrapper},c.a.createElement(p.a,{className:m.content},c.a.createElement(M,null),c.a.createElement(R,null))))},F=n(139),G=n(243),J=function(){return c.a.createElement("div",{className:F.loader},c.a.createElement(G.a,null))},D=n(249),H=n(247),U=n(141),z=function(){return c.a.createElement(p.a,{type:"flex",justify:"center",align:"middle",className:U.wrapper},c.a.createElement(D.a,{message:"Error: failed to connect, server not responding",description:c.a.createElement(p.a,{type:"flex",justify:"center"},c.a.createElement(H.a,{type:"danger",onClick:function(){return window.location.reload()}},"Try again")),type:"error"}))},Q=Object(i.connect)((function(e){return{loading:e.asyncInitialState.loading,error:e.asyncInitialState.error}}))((function(e){var t=e.loading;return null!==e.error?c.a.createElement(z,null):c.a.createElement(c.a.Fragment,null,t?c.a.createElement(J,null):c.a.createElement(s.d,null,c.a.createElement(s.b,{exact:!0,path:"/signIn",component:B}),c.a.createElement(s.a,{to:"/signIn"})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=n(53),$=n(127),q=n(142),K=n(57),V=n(72),Y={token:localStorage.getItem("token")||null,user:null,isFetching:!1},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;return t.type,e},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},te=n(50),ne=null,ae=function(e){var t;return j.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t=e.THRIFT,ne=new window.MrkClientServiceClient(new window.Thrift.Protocol(new window.Thrift.Transport("".concat(t.URL,"/").concat(t.API,"/thrift/mrk-client-json"))));case 2:case"end":return n.stop()}}))},re=n(145),ce=function(e){return new Promise((function(t,n){var a,r,c,o,l,i,s,u,p;return j.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return a=e(),r=Object(te.a)({},a.auth),m.prev=2,m.next=5,j.a.awrap(fetch("../web-config.json"));case 5:return c=m.sent,m.next=8,j.a.awrap(c.json());case 8:return o=m.sent,m.next=11,j.a.awrap(ae(o));case 11:if(null===r.token){m.next=24;break}return m.prev=12,m.next=15,j.a.awrap(ne.isAuthSessionExpired(r.token));case 15:m.sent&&(r=Object(te.a)({},r,{token:null})),m.next=24;break;case 19:m.prev=19,m.t0=m.catch(12),m.t0,r=Object(te.a)({},r,{token:null}),localStorage.removeItem("token");case 24:return m.next=26,j.a.awrap(ne.getAllLanguages());case 26:return l=m.sent,m.next=29,j.a.awrap(ne.getInfo());case 29:return i=m.sent,s=localStorage.getItem("lang")||o.LANG,m.next=33,j.a.awrap(fetch("../translates/".concat(s,".json")));case 33:return u=m.sent,m.t1=_.a,m.t2={},m.t3=s,m.next=39,j.a.awrap(u.json());case 39:m.t4=m.sent,p=(0,m.t1)(m.t2,m.t3,m.t4),C.a.locale(s),t(Object(te.a)({},a,{auth:r,settings:Object(te.a)({},i,{},o),i18n:{locale:s,translations:p,list:Object(re.reduce)(l,(function(e,t,n){return e.push({name:t,value:n}),e}),[])}})),m.next=49;break;case 45:m.prev=45,m.t5=m.catch(2),m.t5,n(m.t5);case 49:case"end":return m.stop()}}),null,null,[[2,45],[12,19]])}))},oe=n(146),le=n(26),ie=Object(le.a)(),se=function(){var e,t=[q.a.withExtraArgument(a),Object($.a)(ie),K.middleware(ce)],n=[Object(oe.composeWithDevTools)(x.applyMiddleware.apply(void 0,t))];return Object(x.createStore)((e=ie,K.outerReducer(Object(x.combineReducers)({router:Object(X.b)(e),asyncInitialState:K.innerReducer,i18n:S.i18nReducer,modals:V.reducer,auth:Z,settings:ee}))),x.compose.apply(void 0,n))}();Object(S.syncTranslationWithStore)(se);var ue,pe=se,me=n(147),fe=Object(V.ModalRoot)(pe);ue=Q,l.a.render(c.a.createElement(i.Provider,{store:pe},c.a.createElement(X.a,{history:ie},c.a.createElement(ue,null),c.a.createElement(fe,{modalComponents:me}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e,t,n){e.exports={list:"languages_list__1NJHh",item:"languages_item__g1mgX",active:"languages_active__3h82-"}},76:function(e,t,n){e.exports={wrapper:"signin_wrapper__31duv",content:"signin_content__2p7Gu",container:"signin_container__jIzED",button:"signin_button__bG6AB",form:"signin_form__3OtOE"}}},[[153,1,2]]]);
//# sourceMappingURL=main.e0bf8f76.chunk.js.map