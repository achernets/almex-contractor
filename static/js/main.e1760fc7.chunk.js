(this["webpackJsonpalmex-contractor"]=this["webpackJsonpalmex-contractor"]||[]).push([[0],{102:function(e,t,n){e.exports={wrapper:"logo_wrapper__3vcav",text:"logo_text__1Cx8t"}},138:function(e,t,n){e.exports={loader:"loader_loader__2sbTU"}},140:function(e,t,n){e.exports={wrapper:"start-app-fail_wrapper__39QCk"}},145:function(e,t){},151:function(e,t,n){e.exports=n(240)},156:function(e,t,n){},167:function(e,t){},240:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"MrkClientServiceClient",(function(){return oe}));var r=n(0),o=n.n(r),c=n(3),l=n.n(c),i=(n(156),n(19)),s=n(73),u=n(244),p=n(247),m=n(75),d=n(65),g=n(66),f=n(72),v=n(67),h=n(74),w=n(54),_=n(21),b=n.n(_),j=n(48),E=n(20),y=n(2),x=n.n(y),O=n(245),k=n(249),I=n(243),C=n(27),S=n.n(C),N=n(24),T=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).setlang=function(e){var t,a;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,b.a.awrap(fetch("/translates/".concat(e.value,".json")));case 3:return t=r.sent,r.next=6,b.a.awrap(t.json());case 6:a=r.sent,n.props.loadTranslations(Object(j.a)({},e.value,a)),n.props.setLocale(e.value),localStorage.setItem("lang",e.value),S.a.locale(e.value),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),O.a.error({key:"locale_not_found",message:N.I18n.t("common.error"),description:N.I18n.t("SignIn.locale_not_found")});case 16:case"end":return r.stop()}}),null,null,[[0,13]])},n}return Object(h.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.locale,a=t.language;return o.a.createElement(k.a,null,o.a.createElement(I.a.Text,{onClick:function(){return e.setlang(a)},className:x()(w.item,a.value===n?w.active:null)},a.value))}}]),t}(r.Component),R=Object(i.connect)((function(e){return{locale:e.i18n.locale}}),(function(e){return Object(E.bindActionCreators)({loadTranslations:N.loadTranslations,setLocale:N.setLocale},e)}))(T),A=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.list,t=void 0===e?[]:e;return o.a.createElement(p.a,{className:w.list,type:"flex",justify:"center",align:"middle",gutter:16},t.map((function(e){return o.a.createElement(R,{key:e.value,language:e})})))}}]),t}(r.PureComponent),L=Object(i.connect)((function(e){return{list:e.i18n.list}}))(A),P=n(102),M=function(){return o.a.createElement("div",{className:P.wrapper},o.a.createElement("img",{src:"/assets/img/Logo.svg",alt:"logo"}),o.a.createElement("span",{className:P.text},"contractor"))},W=u.a.Content,B=function(){return o.a.createElement(u.a,{className:m.container},o.a.createElement(W,{className:m.wrapper},o.a.createElement(p.a,{className:m.content},o.a.createElement(M,null),o.a.createElement(L,null))))},G=n(138),J=n(242),D=function(){return o.a.createElement("div",{className:G.loader},o.a.createElement(J.a,null))},F=n(248),U=n(246),z=n(140),H=function(){return o.a.createElement(p.a,{type:"flex",justify:"center",align:"middle",className:z.wrapper},o.a.createElement(F.a,{message:"Error: failed to connect, server not responding",description:o.a.createElement(p.a,{type:"flex",justify:"center"},o.a.createElement(U.a,{type:"danger",onClick:function(){return window.location.reload()}},"Try again")),type:"error"}))},Q=Object(i.connect)((function(e){return{loading:e.asyncInitialState.loading,error:e.asyncInitialState.error}}))((function(e){var t=e.loading;return null!==e.error?o.a.createElement(H,null):o.a.createElement(o.a.Fragment,null,t?o.a.createElement(D,null):o.a.createElement(s.d,null,o.a.createElement(s.b,{exact:!0,path:"/signIn",component:B}),o.a.createElement(s.a,{to:"/signIn"})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=n(52),X=n(126),$=n(141),q=n(56),K=n(71),Y={token:localStorage.getItem("token")||null,user:null,isFetching:!1},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;return t.type,e},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},te=n(77),ne=window.SERVER,ae=ne.URL,re=ne.API,oe=new window.MrkClientServiceClient(new window.Thrift.Protocol(new window.Thrift.Transport("".concat(ae,"/").concat(re,"/thrift/mrk-client-json")))),ce=function(e){return new Promise((function(t,n){var a,r,o,c,l,i,s,u;return b.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return a=e(),r=Object(te.a)({},a.auth),p.prev=2,p.next=5,b.a.awrap(oe.getInfo());case 5:return o=p.sent,p.next=8,b.a.awrap(fetch("/web-config.json"));case 8:return c=p.sent,p.next=11,b.a.awrap(c.json());case 11:return l=p.sent,i=localStorage.getItem("lang")||l.LANG,p.next=15,b.a.awrap(fetch("/translates/".concat(i,".json")));case 15:return s=p.sent,p.t0=j.a,p.t1={},p.t2=i,p.next=21,b.a.awrap(s.json());case 21:p.t3=p.sent,u=(0,p.t0)(p.t1,p.t2,p.t3),S.a.locale(i),t(Object(te.a)({},a,{auth:r,settings:Object(te.a)({},o,{},l),i18n:{locale:i,translations:u,list:[{name:"English",value:"en"},{name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",value:"ru"},{name:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",value:"kk"}]}})),p.next=30;break;case 27:p.prev=27,p.t4=p.catch(2),n(p.t4);case 30:case"end":return p.stop()}}),null,null,[[2,27]])}))},le=n(144),ie=n(26),se=Object(ie.a)(),ue=function(){var e,t=[$.a.withExtraArgument(a),Object(X.a)(se),q.middleware(ce)],n=[Object(le.composeWithDevTools)(E.applyMiddleware.apply(void 0,t))];return Object(E.createStore)((e=se,q.outerReducer(Object(E.combineReducers)({router:Object(V.b)(e),asyncInitialState:q.innerReducer,i18n:N.i18nReducer,modals:K.reducer,auth:Z,settings:ee}))),E.compose.apply(void 0,n))}();Object(N.syncTranslationWithStore)(ue);var pe,me=ue,de=n(145),ge=Object(K.ModalRoot)(me);pe=Q,l.a.render(o.a.createElement(i.Provider,{store:me},o.a.createElement(V.a,{history:se},o.a.createElement(pe,null),o.a.createElement(ge,{modalComponents:de}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},54:function(e,t,n){e.exports={list:"languages_list__1NJHh",item:"languages_item__g1mgX",active:"languages_active__3h82-"}},75:function(e,t,n){e.exports={wrapper:"signin_wrapper__31duv",content:"signin_content__2p7Gu",container:"signin_container__jIzED",button:"signin_button__bG6AB",form:"signin_form__3OtOE"}}},[[151,1,2]]]);
//# sourceMappingURL=main.e1760fc7.chunk.js.map